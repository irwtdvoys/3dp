[neopixel board_rgb]
pin: gpio24
chain_count: 45
color_order: GRB
initial_RED: 0
initial_GREEN: 0
initial_BLUE: 0

[gcode_macro LIGHTS_OFF]
gcode:
   SET_LED LED=board_rgb RED=0 GREEN=0 BLUE=0 TRANSMIT=1

[gcode_macro LIGHTS_ON]
gcode:
  {% set R = params.R|default(0.1)|float %}
  {% set G = params.G|default(0.1)|float %}
  {% set B = params.B|default(0.1)|float %}
   SET_LED LED=board_rgb RED={R} GREEN={G} BLUE={B} TRANSMIT=1

[output_pin toolhead_leds]
pin: rpi:gpio23
value: 0
shutdown_value: 0

[gcode_macro TOGGLE_TOOLHEAD_LEDS]
gcode:
  SET_PIN PIN=toolhead_leds VALUE={(not printer['output_pin toolhead_leds'].value)|int}
